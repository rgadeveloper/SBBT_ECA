<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

  <p:panelGrid columns="2" id ="gridArea" rendered="true"  style="margin-top:20px; font-size: 12px ">
    <f:facet name="header">
      <p:row>
        <p:column colspan="8">Balances por periodo </p:column>
      </p:row>
    </f:facet>

    <h:outputText style="font-weight: bold;" value="Matrícula del área de media tensión" />
    <h:outputText value="#{electricaView.nombreAreaEnergetica}" />

    <h:outputText style="font-weight: bold;" value="Código BDI del área de media tensión" />
    <h:outputText value="#{electricaView.idComercialAreaMt}" />

    <h:outputText style="font-weight: bold;" value="Nombre del área de media tensión" />
    <h:outputText value="#{electricaView.nombreAreaEnergetica}" />

    <h:outputText style="font-weight: bold;" value="Zona" />
    <h:outputText value="#{electricaView.nombreZona}" />

    <h:outputText style="font-weight: bold;" value="Delegación" />
    <h:outputText value="#{electricaView.nombreDelegacion}" />

    <h:outputText style="font-weight: bold;" value="Rango de pérdidas" />
    <h:outputText value="#{electricaView.balance.rangoClasificacion.descripcion}" />

    <h:outputText style="font-weight: bold;" value="Energía de entrada total del área de media tensión (kWh)" />
    <h:outputText value="#{electricaView.balanceEnergia.energiaEnt}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

    <h:outputText style="font-weight: bold;" value="Energía de salida total del área de media tensión (kWh)" />
    <h:outputText value="#{electricaView.balanceEnergia.energiaSal}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

    <h:outputText style="font-weight: bold;" value="Energía pérdida total del área de media tensión (kWh)" />
    <h:outputText value="#{electricaView.balanceEnergia.energiaPerdida}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

    <h:outputText style="font-weight: bold;" value="Porcentaje de pérdidas total del área de media tensión (%)" />
    <h:outputText value="#{electricaView.balanceEnergia.porcPerdTotal}">
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" minFractionDigits="2"/>
    </h:outputText>

    <h:outputText style="font-weight: bold;" value="Energía de entrada macros funcionando (kWh)" />
    <h:outputText value="#{electricaView.balance.consumoMacros}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

    <h:outputText style="font-weight: bold;" value="Energía de salida macros funcionando (kWh)" />
    <h:outputText value="#{electricaView.balance.consumoSuministro}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

    <h:outputText style="font-weight: bold;" value="Cargas extras macros funcionando (kWh)" />
    <h:outputText value="#{electricaView.balance.consumoAdicional}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

    <h:outputText style="font-weight: bold;" value="Energía pérdida macros funcionando (kWh)" />
    <h:outputText value="#{electricaView.balance.balEnergiaSum}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

    <h:outputText style="font-weight: bold;" value="Porcentaje de pérdidas macros funcionando (%)" />
    <h:outputText value="#{electricaView.balance.porcPerdidaMes}">
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" minFractionDigits="2"/>
    </h:outputText>

    <h:outputText style="font-weight: bold;" value="Cantidad trafos totales (Und)" />
    <h:outputText value="#{electricaView.cantTrafosTotalesArea}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

    <h:outputText style="font-weight: bold;" value="Cantidad de trafos sin macros (Und)" />
    <h:outputText value="#{electricaView.balance.totalSinMacros}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText>

    <h:outputText style="font-weight: bold;" value="Cantidad de trafos con macros (Und)" />
    <h:outputText value="#{electricaView.balance.totalMacros}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText>

    <h:outputText style="font-weight: bold;" value="Cantidad de macros funcionando (Und)" />
    <h:outputText value="#{electricaView.balance.totalMacrosFunc}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText>

    <h:outputText style="font-weight: bold;" value="Cantidad de macros no funcionando (Und)" />
    <h:outputText value="#{electricaView.balance.totalMacros-electricaView.balance.totalMacrosFunc}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText>

    <h:outputText style="font-weight: bold;" value="Cantidad de suministros totales (Und)" />
    <h:outputText value="#{electricaView.balance.cantSuministrosTotal}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText>

    <h:outputText style="font-weight: bold;" value="Cantidad de suministros totales trafos con macros (Und)" />
    <h:outputText value="#{electricaView.balance.cantSumMacros}" >
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText>

    <h:outputText style="font-weight: bold;" value="Cantidad de suministros con consumo macros funcionando (Und)" />
    <h:outputText value="#{electricaView.balance.cantSumFact}">
      <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
    </h:outputText> 

  </p:panelGrid>

  <p:panelGrid id ="dtbalance" rendered="true"  style="margin-top:20px; font-size: 12px ">

    <f:facet name="header">
      <p:row>
        <p:column colspan="6">Información de Macro-medición por rangos </p:column>
      </p:row>
      <p:row>
        <p:column colspan="3">Cantidad de macros funcionando </p:column>
        <p:column colspan="3">Cantidad de macros no funcionando </p:column>
      </p:row>
      <p:row>
        <p:column>Descripción</p:column>
        <p:column>Rango %</p:column>
        <p:column>Und</p:column>
        <p:column>Descripción</p:column>
        <p:column>Rango %</p:column>
        <p:column>Und</p:column>
      </p:row>

    </f:facet>

    <p:row>
      <p:column style="font-weight: bold; background-color: black; color: green;" colspan="1">
        Bajo
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        -5 a 14,99
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.dataRangosBalance.bajo - 0}">
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        Sin balance
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        N.A
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText 
          value="#{electricaView.balance.totalMacros - electricaView.balance.totalMacrosFunc - electricaView.dataRangosBalance.inconsistentesNegativos - 
                   electricaView.dataRangosBalance.inconsistentesPositivos - electricaView.dataRangosBalance.negativos}">
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
    </p:row>

    <p:row>
      <p:column style="font-weight: bold; background-color: black; color: gold;" colspan="1">
        Medio
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        15 a 29,99
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.dataRangosBalance.medio - 0}">
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
      <p:column style="font-weight: bold; background-color: black; color: dodgerblue;" colspan="1">
        Negativo
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        -10 a -5,01
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.dataRangosBalance.negativos - 0}">
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
    </p:row>

    <p:row>
      <p:column style="font-weight: bold; background-color: black; color: orange;" colspan="1">
        Alto
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        30 a 59,99
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.dataRangosBalance.alto - 0}">
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
      <p:column style="font-weight: bold; background-color: black; color: white" colspan="1">
        Incosistentes -
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        -999999 a -10,01
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.dataRangosBalance.inconsistentesNegativos - 0}">
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
    </p:row>

    <p:row>
      <p:column style="font-weight: bold; background-color: black; color: red" colspan="1">
        Crítico
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        60 a 79,99
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.dataRangosBalance.critico - 0}">
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
      <p:column style="font-weight: bold; background-color: black; color: fuchsia" colspan="1">
        Inconsistentes +
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        80 a 999999
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.dataRangosBalance.inconsistentesPositivos - 0}">
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
    </p:row>

    <p:row>
      <p:column style="font-weight: bold; background-color: #c2dfef" colspan="2">
        Total macros funcionando
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.balance.totalMacrosFunc - 0}" >
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
      <p:column style="font-weight: bold;  background-color: #c2dfef" colspan="2">
        Total macros no funcionando
      </p:column>
      <p:column style="font-weight: bold;" colspan="1">
        <h:outputText value="#{electricaView.balance.totalMacros-electricaView.balance.totalMacrosFunc}" >
          <f:convertNumber type="number" locale="es_CO" groupingUsed="true" maxFractionDigits="0"/>
        </h:outputText>
      </p:column>
    </p:row>

  </p:panelGrid>

</html>